# 2025年8月6日

## uniqueness scopeに関して

Railsのバリデーションで`uniqueness: true`を使う際、`scope`オプションを指定することで、特定の範囲内でで一意性を担保できる。  
例えば、`user_id`ごとに`email`がユニークであることを保証したい場合、以下のように記述する。

```ruby
validates :email, uniqueness: { scope: :user_id }
```

この場合、同じ`user_id`内で`email`が重複しないことを保証するが、異なる`user_id`同士では同じ`email`が存在してもバリデーションエラーにはならない。

### まとめ
- `scope`で一意性の範囲を柔軟に指定できる
